---
permalink: asa800/fan-replace.html 
sidebar: sidebar 
keywords: asa a800, replace a fan 
summary: È necessario rimuovere il modulo controller dal telaio quando si sostituisce un modulo ventola guasto e sostituirlo con un nuovo modulo ventola. 
---
= Sostituire una ventola - ASA A800
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Sostituisci un modulo ventola nel tuo sistema ASA A800 quando una ventola si guasta o non funziona in modo efficiente, poiché ciò può influire sul raffreddamento del sistema e sulle prestazioni generali.  Il processo di sostituzione prevede lo spegnimento del controller danneggiato, la sua rimozione, la sostituzione del modulo ventola, la reinstallazione del controller e la restituzione della parte guasta a NetApp.



== Fase 1: Spegnere il controller compromesso

Spegnere il controller compromesso

Per spegnere il controller compromesso, è necessario determinare lo stato del controller e, se necessario, assumere il controllo del controller in modo che il controller integro continui a servire i dati provenienti dallo storage del controller compromesso.

.A proposito di questa attività
* Se si dispone di un sistema SAN, è necessario aver controllato i messaggi di evento  `cluster kernel-service show`) per il blade SCSI del controller danneggiato. Il `cluster kernel-service show` comando (dalla modalità avanzata precedente) visualizza il nome del nodo, link:https://docs.netapp.com/us-en/ontap/system-admin/display-nodes-cluster-task.html["stato quorum"] di quel nodo, lo stato di disponibilità di quel nodo e lo stato operativo di quel nodo.
+
Ogni processo SCSI-blade deve essere in quorum con gli altri nodi del cluster. Eventuali problemi devono essere risolti prima di procedere con la sostituzione.

* Se si dispone di un cluster con più di due nodi, questo deve trovarsi in quorum. Se il cluster non è in quorum o un controller integro mostra false per idoneità e salute, è necessario correggere il problema prima di spegnere il controller compromesso; vedere link:https://docs.netapp.com/us-en/ontap/system-admin/synchronize-node-cluster-task.html?q=Quorum["Sincronizzare un nodo con il cluster"^].


.Fasi
. Se AutoSupport è attivato, eliminare la creazione automatica del caso richiamando un messaggio AutoSupport:
+
`system node autosupport invoke -node * -type all -message MAINT=<# of hours>h`

+
Il seguente messaggio AutoSupport elimina la creazione automatica del caso per due ore:

+
`cluster1:> system node autosupport invoke -node * -type all -message MAINT=2h`

. Disattiva la restituzione automatica:
+
.. Immettere il seguente comando dalla console del controller funzionante:
+
`storage failover modify -node _impaired_node_name_ -auto-giveback false`

.. Entra `y` quando vedi il messaggio _Vuoi disattivare la restituzione automatica?_


. Portare la centralina danneggiata al prompt DEL CARICATORE:
+
[cols="1,2"]
|===
| Se il controller non utilizzato visualizza... | Quindi... 


 a| 
Il prompt DEL CARICATORE
 a| 
Passare alla fase successiva.



 a| 
In attesa di un giveback...
 a| 
Premere Ctrl-C, quindi rispondere `y` quando richiesto.



 a| 
Prompt di sistema o prompt della password
 a| 
Assumere il controllo o arrestare il controller compromesso dal controller integro:

`storage failover takeover -ofnode _impaired_node_name_ -halt _true_`

Il parametro _-halt true_ consente di visualizzare il prompt di Loader.

|===




== Fase 2: Rimuovere il modulo controller

È necessario rimuovere il modulo controller dal telaio quando si sostituisce il modulo controller o un componente all'interno del modulo controller.

.Fasi
. Se non si è già collegati a terra, mettere a terra l'utente.
. Assicurarsi che tutte le unità nello chassis siano saldamente posizionate contro il midplane, utilizzando i pollici per spingere ciascuna unità fino a quando non si avverte un arresto positivo.
+
.Video - Conferma del posto di guida
video::2c46e4af-2c21-4f12-b065-b38b003d0ea2[panopto]
+
image::../media/drw_a800_drive_seated_IEOPS-960.svg[Posizionare le unità]

. Controllare le unità del controller in base allo stato del sistema:
+
.. Sul controller funzionante, verificare se un gruppo RAID attivo è in stato degradato, in stato di errore o in entrambi i casi:
+
[source, cli]
----
storage aggregate show -raidstatus !*normal*
----
+
*** Se il comando ritorna `There are no entries matching your query.` continuare a<<Check-missing-drives,vai al sotto-passaggio successivo per verificare le unità mancanti>> .
*** Se il comando restituisce altri risultati, raccogliere i dati AutoSupport da entrambi i controller e contattare il supporto NetApp per ulteriore assistenza.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----


.. [[Check-missing-drives]]Verifica la presenza di problemi di unità mancanti sia per il file system che per le unità di riserva:
+
[source, cli]
----
event log show -severity * -node * -message-name *disk.missing*
----
+
*** Se il comando ritorna `There are no entries matching your query.` continuare a<<remove-power-cables,vai al passaggio successivo>> .
*** Se il comando restituisce altri risultati, raccogliere i dati AutoSupport da entrambi i controller e contattare il supporto NetApp per ulteriore assistenza.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----




. [[remove-power-cables]]Rimuovere i fermacavi di alimentazione, quindi scollegare i cavi dagli alimentatori.
. Allentare la fascetta a strappo sul dispositivo di gestione dei cavi.  Scollegare i cavi di sistema e i moduli SFP/QSFP (se necessari) dal modulo controller.  Annotare la posizione di ciascun cavo.
+
Lasciare i cavi nel dispositivo di gestione dei cavi in modo che quando si reinstalla il dispositivo di gestione dei cavi, i cavi siano organizzati.

. Rimuovere il dispositivo di gestione dei cavi dal modulo controller e metterlo da parte.
. Premere verso il basso entrambi i fermi di bloccaggio, quindi ruotare entrambi i fermi verso il basso contemporaneamente.
+
Il modulo controller si sposta leggermente fuori dallo chassis.

+
image::../media/drw_a800_pcm_remove.png[Rimozione del modulo controller]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Numero di didascalia 1"]
 a| 
Fermo di bloccaggio



 a| 
image:../media/icon_round_2.png["Numero di didascalia 2"]
 a| 
Perno di bloccaggio

|===
. Estrarre il modulo controller dallo chassis e posizionarlo su una superficie piana e stabile.
+
Sostenere la parte inferiore del modulo controller mentre lo si fa scorrere fuori dallo chassis.





== Fase 3: Sostituire una ventola

Individuare il modulo ventola guasto e sostituirlo con uno nuovo.

.Fasi
. Identificare il modulo della ventola da sostituire controllando i messaggi di errore della console o individuando il LED acceso del modulo della ventola sulla scheda madre.
. Rimuovere il modulo della ventola stringendo le linguette di bloccaggio sul lato del modulo della ventola, quindi sollevare il modulo della ventola per estrarlo dal modulo del controller.
+
image::../media/drw_a800_replace_fan.png[Rimozione della ventola]

+
|===


 a| 
image:../media/icon_round_1.png["Numero di didascalia 1"]
| Linguette di bloccaggio della ventola 


 a| 
image:../media/icon_round_2.png["Numero di didascalia 2"]
 a| 
Modulo della ventola

|===
. Allineare i bordi del modulo della ventola di ricambio con l'apertura nel modulo del controller, quindi far scorrere il modulo della ventola di ricambio nel modulo del controller fino a quando i fermi di bloccaggio non scattano in posizione.




== Fase 4: Reinstallare il modulo controller

Reinstallare il modulo controller e riavviarlo.

.Fasi
. Allineare l'estremità del modulo controller con l'apertura dello chassis, quindi spingere delicatamente il modulo controller a metà nel sistema.
+

NOTE: Non inserire completamente il modulo controller nel telaio fino a quando non viene richiesto.

. Ricable il sistema, come necessario.
+
Se sono stati rimossi i convertitori multimediali (QSFP o SFP), ricordarsi di reinstallarli se si utilizzano cavi in fibra ottica.

. Completare la reinstallazione del modulo controller:
+
.. Spingere con decisione il modulo controller nello chassis fino a quando non raggiunge la scheda intermedia e non è completamente inserito.
+
I fermi di bloccaggio si sollevano quando il modulo controller è completamente inserito.

+

NOTE: Non esercitare una forza eccessiva quando si fa scorrere il modulo controller nel telaio per evitare di danneggiare i connettori.

.. Ruotare i fermi di bloccaggio verso l'alto, inclinandoli in modo da liberare i perni di bloccaggio, quindi abbassarli in posizione di blocco.
.. Inserire i cavi di alimentazione negli alimentatori, reinstallare il collare di bloccaggio del cavo di alimentazione, quindi collegare gli alimentatori alla fonte di alimentazione.
+
Il modulo controller inizia ad avviarsi non appena viene ripristinata l'alimentazione. Prepararsi ad interrompere il processo di avvio.

.. Se non è già stato fatto, reinstallare il dispositivo di gestione dei cavi.


. Riportare la centralina guasta al normale funzionamento restituendo la memoria:
+
`storage failover giveback -ofnode _impaired_node_name_`.

. Se il giveback automatico è stato disattivato, riabilitarlo:
+
`storage failover modify -node local -auto-giveback true`.

. Se AutoSupport è attivato, ripristinare/riattivare la creazione automatica dei casi:
+
`system node autosupport invoke -node * -type all -message MAINT=END`.





== Fase 5: Restituire il componente guasto a NetApp

Restituire la parte guasta a NetApp, come descritto nelle istruzioni RMA fornite con il kit. Vedere la https://mysupport.netapp.com/site/info/rma["Restituzione e sostituzione delle parti"] pagina per ulteriori informazioni.
